<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="main.css">

  <title>Hello, world!</title>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Shine Shop</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Features</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Pricing</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Disabled</a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="jumbotron main-visual">
    <h1 class="display-4">Hello, world!</h1>
    <p class="lead">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>
    <hr class="my-4">
    <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>
    <button class="btn btn-primary btn-lg js-modal-open">Login</button>
    <button class="btn btn-primary btn-lg js-modal-open">Sign In</button>
  </div>

  <div class="container">
    <div class="row" id="mainProduct">

      <div class="col-md-4">
        <div class="card">
          <img class="card-img-top" src="img/img01.jpeg" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card">
          <img class="card-img-top" src="img/img02.jpeg" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card">
          <img class="card-img-top" src="img/img03.jpeg" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    var products = [
      {
        id: 1,
        price: 299,
        img: 'img/img01.jpeg',
        title: 'Blossom Dress',
        text: "Do you like some random yellow stuff? Here's one for you."
      },
      {
        id: 2,
        price: 199,
        img: 'img/img02.jpeg',
        title: 'Springfield Shirt',
        text: "Stole it from my dad."
      },
      {
        id: 3,
        price: 399,
        img: 'img/img03.jpeg',
        title: 'Black Monastery',
        text: "The best beer comes from the monastery."
      }];


    // 가격순 정렬 : 기존배열의 순서를 바꿔줌
    products.sort(function(a, b){
      console.log(a);
      console.log(b);
      return a.price - b.price;
    });

    console.log(products)

    //제목을 products의 products[0].title 로 바꿔줌
    //내용을 products의 products[0].text 로 바꿔줌
    // document.getElementsByClassName('card-title')[0].innerHTML = products[0].title;
    //document.getElementsByClassName('card-text')[0].innerHTML = products[0].text;
    document.querySelectorAll('.card-title')[0].innerHTML = products[0].title;
    document.querySelectorAll('.card-text')[0].innerHTML = products[0].text;
    document.querySelectorAll('.card-title')[1].innerHTML = products[1].title;
    document.querySelectorAll('.card-text')[1].innerHTML = products[1].text;
    document.querySelectorAll('.card-title')[2].innerHTML = products[2].title;
    document.querySelectorAll('.card-text')[2].innerHTML = products[2].text;


    //데이터 정렬
    var array = [3, 5, 6, 2, 1];

    array.sort(function(a, b){
      // 내림차순?
      //return a - b;
      // 오름차순?
      return b - a;
    });
    console.log(array);

    var array2 = ['가', '나', '다', '마', '라'];

    array2.sort();
    console.log(array2);

    array2.sort(function (a, b) {
      if(a < b){
        return 1;
      }else{
        return -1;
      }
    });
    console.log(array2);

    // map : 새로운 array 만듦. (기존배열은 수정하지 않음.)
    var array3 = array.map(function (d){
      return d + 2;
    });
    console.log(array3);


    // filter : 새로운 array 만듦.
    var array4 = array.filter(function (d){
      return d > 3;
    });
    console.log(array4);

    //숙제 : 버튼을 눌렀을때 가격순, 이름순 정렬 되도록 수정

  </script>



  <!--modal-->
  <div class="modal-wrap" id="modalWrap">
    <div class="modal-cont">
      <h4 id="modalTitle">login</h4>
      <button type="button" class="close js-modal-close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">×</span>
      </button>
      <form action="/" id="loginForm">
        <div class="form-group mt-3">
          <label for="inputEmail" class="sr-only">Email address</label>
          <input type="email" class="form-control" id="inputEmail" placeholder="Enter email">
          <p class="check-value" id="idCheckText">이메일을 입력해주세요.</p>
        </div>
        <div class="form-group">
          <label for="inputPassword" class="sr-only">Password</label>
          <input type="password" class="form-control" id="inputPassword" placeholder="Password">
          <p class="check-value" id="passwordCheckText">비밀번호를 입력해주세요.</p>
        </div>
        <div class="text-right">
          <button type="submit" class="btn btn-primary">Submit</button>
          <button type="button" class="btn btn-secondary js-modal-close" id="btnModalClose">Close</button>
        </div>
      </form>
    </div>
  </div>
  <!--//modal-->

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script>
  var modal = document.getElementById('modalWrap');

  // modal 필드 초기화.
  function modalInit(){
    idCheck.style.display = 'none';
    pwCheck.style.display = 'none';
    emailInput.style.borderColor = '#ced4da';
    passwordInput.style.borderColor = '#ced4da';
  }

  // modal open F
  function openModal(title) {
    modalInit();
    modal.style.display = 'block';

    // 모달창을 열면 제목을 바꿔줌
    document.getElementById('modalTitle').innerHTML = title;
  }
  // modal close F
  function closeModal() {
    modal.style.display = 'none';
  }

  // 모달 오픈 버튼 이벤트
  var openBtns = document.querySelectorAll('.js-modal-open');
  openBtns.forEach(function (btn) {
    btn.addEventListener('click', function(e){
      let t = e.target;

      if(t.innerHTML === 'Login'){
        openModal('로그인 해주세요.');
      } else {
        openModal('회원가입 해주세요.');
      }
    });
  });

  // 클로즈 버튼 이벤트
  var closeBtns = document.querySelectorAll('.js-modal-close');
  closeBtns.forEach(function (btn) {
    btn.addEventListener('click', function(){
      closeModal();
    });
  });

  //모달창의 검은 배경을 누르면 모달창이 닫힘
  modal.addEventListener('click', function(e){
    // e.target; // 현재 클릭한 html요소
    // e.currentTarget; // 현재 이벤트 요소 === this
    //
    // console.log(e.target)
    // console.log(e.currentTarget)

    // e.stopPropagation(); // 버블링 막기
    // e.preventDefault(); // 기본동작 막기
    //addEventListener 의 버블링으로 어느부분을 클릭해도 닫힘.

    // 현재 클릭한 html이 배경일 경우에만, 닫힘
    if(e.target !== this) return; //if(e.target !== e.currentTarget) return;
    closeModal();
  });

  // 폼 submit
  var loginForm = document.getElementById('loginForm');
  var emailInput = document.getElementById('inputEmail');
  var passwordInput = document.getElementById('inputPassword');
  var idCheck = document.getElementById('idCheckText');
  var pwCheck = document.getElementById('passwordCheckText');

  loginForm.addEventListener('submit', function(e){
    console.log(e);

    // 이메일 공백일 경우,
    if(emailInput.value === ''){
      e.preventDefault();

      idCheck.style.display = 'block';
      emailInput.style.borderColor = 'red';
      emailInput.focus();
      return false;
    }

    // 비밀번호 공백일 경우
    if(passwordInput.value === ''){
      e.preventDefault();

      pwCheck.style.display = 'block';
      passwordInput.style.borderColor = 'red';
      passwordInput.focus();
      return false;
    }
  });

  // 입력시 경고창 사라짐
  emailInput.addEventListener('keypress', function(){
    if(idCheck.style.display === 'block'){
      idCheck.style.display = 'none';
      emailInput.style.borderColor = '#ced4da';
    }
  });

  // 입력시 경고창 사라짐
  passwordInput.addEventListener('keypress', function(){
    if(pwCheck.style.display === 'block'){
      pwCheck.style.display = 'none';
      passwordInput.style.borderColor = '#ced4da';
    }
  });

</script>
</body>
</html>