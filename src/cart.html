<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="main.css">

  <title>Cart</title>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="/">Shine Shop</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Features</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Pricing</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Disabled</a>
      </li>
    </ul>
  </div>
</nav>

<div class="container text-center my-5">

  <h4>장바구니</h4>

  <table class="table mt-5">
    <thead class="thead-dark">
    <tr>
      <th scope="col">#</th>
      <th scope="col">name</th>
      <th scope="col">quantity</th>
      <th scope="col">size</th>
      <th scope="col">color</th>
    </tr>
    </thead>
    <tbody id="cartTable">
    <tr>
      <th scope="row">1</th>
      <td>Mark</td>
      <td>
        <button class="btn btn-sm btn-default js-btb-min">-</button>
        <span class="num">4</span>
        <button class="btn btn-sm btn-default js-btb-plus">+</button>
      </td>
      <td>2</td>
      <td>red</td>
    </tr>

    </tbody>
  </table>

</div>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script src="main.js"></script>



<script>
  // 플러스 버튼을 누르면 .num 숫자를 가져와서 1 증가시킨다.
  // 마이너스 버튼을 누르면 .num 숫자를 가져와서 -1 감소시킨다.
  // 0 이하로는 되지 않는다.

  $('.js-btb-plus').on('click', function () {
    var num = $('.num').text();
    num = parseInt(num) + 1;
    $('.num').text(num);
  });

  $('.js-btb-min').on('click', function () {
    var num = $('.num').text();
    num = parseInt(num) - 1;
    if(num < 0) return;
    $('.num').text(num);
  });
</script>


<script>
  function SampleData(id,name,price,quantity,size) {
    this.id = id;
    this.name = name;
    this.price = price;
    this.quantity = quantity;
    this.size = size;
    localStorage.setItem('product'+this.id, JSON.stringify(this));
    console.log('product'+this.id+' saved');
  }

  var data = new SampleData(1,'Blossom',199,2,'Small');
  var data2 = new SampleData(2,'Blue Shirt',99,1,'Large');
  var data3 = new SampleData(3,'Black Dress',159,1,'Medium');
  var data4 = new SampleData(4,'Red Dress',59,1,'Medium');



  // 상품 리스트 보이기
  for(var i = 0; i < 4; i++){
    var getData = JSON.parse(localStorage.getItem('product' + (i + 1)));
    var cartList = `
    <tr>
      <th scope="row">${getData.id}</th>
      <td>${getData.name}</td>
      <td>${getData.quantity}</td>
      <td>${getData.size}</td>
      <td>${getData.color}</td>
    </tr>
  `;

    $('#cartTable').append(cartList);
  }




</script>


</body>
</html>